<p class="text-success"><%= notice %></p>

<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="mb-0">Flats</h1><span class="badge bg-secondary"><%= @flats.count %> flats</span>
  </div>

  <div class="row">
    <% @flats.each do |flat| %>
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
          <% if @image_url.present? %>
            <img src="<%= @image_url %>" alt="Flat image" class="img-fluid mb-3">
          <% end %>
            <h4 class="card-title"><%= flat.name %></h4>
            <h6 class="card-subtitle mb-2 text-muted"><%= flat.address %></h6>
            <p class="card-text mb-3"><%= flat.description %></p>
            <div class="d-flex justify-content-between">
              <p class="card-text mb-3"><i class="fa-solid fa-money-bill"></i> <%= flat.price_per_night %> per night</p>
              <p class="card-text mb-3"><i class="fa-solid fa-person"></i></i> <%= flat.number_of_guests %> guests</p>
            </div>
            <div class="d-flex justify-content-between">
              <p class="card-text mb-3"><i class="fa-solid fa-bed"></i> <%= flat.number_of_beds %> beds</p>
              <p class="card-text mb-3"><i class="fa-solid fa-bath"></i> <%= flat.number_of_toilets %> toilets</p>
            </div>
            <div class="mt-auto">
              <%= link_to "See this flat", flat_path(flat), class: "btn btn-primary btn-sm" %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
